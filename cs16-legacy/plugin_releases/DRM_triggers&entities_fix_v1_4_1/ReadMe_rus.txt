[DeathRun] Triggers & Entities Fix v1.4.1

Описание:
Этот плагин исправляет активацию некоторых триггеров и энтити для "прозрачных" игроков (встроенный semiclip в DeathRun Manager).
А также включает в себя фикс отображения func_breakable (by xPaw) и фикс отображения func_train/func_rotating для Linux серверов (by ConnorMcLeod).

Используемые модули:
Fakemeta
Hamsandwich

Список триггеров и энтитей, которые исправляет плагин:
trigger_hurt - Полный фикс, в отличии от оригинального плагина фикса, этот полностью фиксит работу триггера, даже если у него есть имя и его можно включать/выключать.
trigger_push, trigger_teleport, trigger_gravity, trigger_multiple, trigger_once, trigger_counter - Полный фикс.
func_breakable - исправлена активация флага "Stand on pressed" (разрушение при давлении) и "Touch" (разрушение при соприкосновении) для "прозрачных" игроков. А также исправлена проблема с видимостью энтити после её разрушения by xPaw: "Если у func_breakable установлен флаг "touch", и игрок подошёл к ней, стенка разбилась, но игрок всё равно видит её. этот плагин исправляет это".
func_button - исправлена активация флага "touch activates" (активация при соприкосновении) для "прозрачных" игроков.
item_healthkit, item_battery, item_longjump, armoury_entity - исправлен подъем оружия/аптечек/брони/лонг-джампа.
func_door, func_door_rotating - Наносит урон "прозрачному" игроку если его прищемило объектом, а также исправляет открытие дверей для "прозрачный" игроков (не всегда работает, например на cs_militia не работает для дверей в доме).
momentary_door, func_vehicle, func_tracktrain, func_pendulum - Наносит урон "прозрачному" игроку если его прищемило объектом.
func_train, func_rotating - Наносит урон "прозрачному" игроку если его прищемило объектом, а также исправляет их отображение для Linux серверов.

Внимание! Важная информация для мапперов!
Не группируйте несколько брашей в одну trigger_* энтитю! Это создаёт баг, который нельзя исправить. Добавляйте каждый браш в отдельную энтитю. Смотрите тестовую карту для детальной информации. Прыгните на красный пол и вы умрёте, прыгните на жёлтый пол и вы останетесь живыми. Эта проблема также наблюдается и в оригинальном плагине (DRM_trigger_hurt_fix).

Настройки:
По-умолчанию - 1 (включено)
* semiclip_fix_hurt <1/0> - Включить/Выключить trigger_hurt фикс активации.
* semiclip_fix_push <1/0> - Включить/Выключить trigger_push фикс активации.
* semiclip_fix_teleport <1/0> - Включить/Выключить trigger_teleport фикс активации.
* semiclip_fix_gravity <1/0> - Включить/Выключить trigger_gravity фикс активации.
* semiclip_fix_multiple <1/0> - Включить/Выключить trigger_multiple фикс активации.
* semiclip_fix_once <1/0> - Включить/Выключить trigger_once фикс активации.
* semiclip_fix_counter <1/0> - Включить/Выключить trigger_counter фикс активации.
* semiclip_fix_breakable <1/0> - Включить/Выключить func_breakable фикс активации.
* semiclip_fix_breakable_render <1/0> - Включить/Выключить func_breakable фикс отображения.
* semiclip_fix_button <1/0> - Включить/Выключить func_button фикс активации.
* semiclip_fix_button_delay <сек> - по-умолчанию 2.0 секунды, частота обновления координат у кнопкок. Чем меньше значение - тем выше нагрузка на процессор. Чем больше значение - тем меньше нагрузка на процессор. 0 - выключить, но тогда фикс не будет работать для передвинутых кнопок.
* semiclip_fix_item <1/0> - Включить/Выключить item_healthkit, item_battery, item_longjump, armoury_entity фикс подъема (оружия/аптечек/брони/лонг-джампа).
* semiclip_fix_item_delay <сек> - по-умолчанию 2.0 секунды, частота обновления координат у объектов (оружия/аптечек/брони/лонг-джампа). Чем меньше значение - тем выше нагрузка на процессор. Чем больше значение - тем меньше нагрузка на процессор. 0 - выключить, но тогда фикс не будет работать для передвинутых объектов.
* semiclip_fix_door <1/0> - Включить/Выключить func_door фикс блокировки.
* semiclip_fix_door_open <1/0> - Включить/Выключить фикс открывания func_door.
* semiclip_fix_door_rotating <1/0> - Включить/Выключить func_door_rotating фикс блокировки.
* semiclip_fix_door_rotating_open <1/0> - Включить/Выключить фикс открывания func_door_rotating.
* semiclip_fix_momentary_door <1/0> - Включить/Выключить momentary_door фикс блокировки.
* semiclip_fix_train <1/0> - Включить/Выключить func_train фикс блокировки.
* semiclip_fix_train_render <1/0> - Включить/Выключить func_train фикс отображения (только для линукс серверов).
* semiclip_fix_vehicle <1/0> - Включить/Выключить func_vehicle фикс блокировки.
* semiclip_fix_tracktrain <1/0> - Включить/Выключить func_tracktrain фикс блокировки.
* semiclip_fix_rotating <1/0> - Включить/Выключить func_rotating фикс блокировки.
* semiclip_fix_rotating_render <1/0> - Включить/Выключить func_rotating фикс отображения (только для линукс серверов).
* semiclip_fix_pendulum <1/0> - Включить/Выключить func_pendulum фикс блокировки.
* semiclip_fix_block <1/0> - Включить/Выключить блокировку дверей/поездов/машин для прозрачных игроков. Если выключить эту опцию, тогда двери/поезд/машина не будут блокироваться (машины/поезда будут дальше ехать без остановки, а двери не будут сразу заезжать обратно), когда в них застрял "прозрачный" игрок.
Для применения настроек вы должны перезагрузить карту.

Подсказка:
Вы можете использовать для каждой карты свои настройки.
Для этого перейдите в папку amxmodx/configs/maps (если такой нету - создайте) и создайте файл имя_карты.cfg с таким содержанием (пример):
semiclip_fix_teleport 0
И сохраните файл. Также важно не забыть добавить в amxmodx/configs/amxx.cfg следующее:
semiclip_fix_teleport 1
А то иначе при смене карты на другую, настройка так и останется отключенной.

ЧАВО (часто задаваемые вопросы):
Вопрос: Что делает этот плагин?
Ответ: Исправляет некоторые проблемы для "прозрачных" игроков.

Вопрос: С каким плагином semiclip этот плагин работает?
Ответ: Корректная работа гарантируется только со встроенным semiclip'ом для DeathRun Manager v3.0.3 (на более ранних версиях не тестировалось).

Вопрос: Работает ли плагин с Automatic Unstuck?
Ответ: Да, во всяком случае у меня с Automatic Unstuck v1.5 работает без проблем.

Вопрос: Нужен ли мне оригинальный trigger_hurt (by xPaw) fix плагин?
Ответ: Нет, вы должны отключить его, чтобы мой плагин работал нормально.

Вопрос: Плагин будет работать с func_breakable fix (by xPaw)?
Ответ: Да, но это исправление встроено в мой плагин, и лучше отключить func_breakable fix (by xPaw), чтобы не создавать дополнительную нагрузку на процессор.

Вопрос: Будет ли этот плагин работать с deathrun maps fixer?
Ответ: Да, все прекрастно работает.

Вопрос: Будет ли этот плагин работать с Linux func_rotating bug fixer?
Ответ: Да, но это исправление встроено в мой плагин, и лучше отключить Linux func_rotating bug fixer, чтобы не создавать дополнительную нагрузку на процессор.

Вопрос: Нужно ли мне отключать фикс отображения func_train/func_rotating (semiclip_fix_train_render/semiclip_fix_rotating_render) на windows сервере?
Ответ: Нет, эти настройки не имеют никакого значения для windows сервера.

Вопрос: У меня проблема - триггеры активируются не там, где должны!
Ответ: Эта проблема возникает скорее всего потому, что маппер добавил несколько брашей как одну энтитю. В таком случае вы можете попробовать отключить фикс данного триггера на этой карте. Больше я ничем не могу помочь вам - свяжитесь с автором карты, и попросите его исправить эту проблему (дайте ссылку на этот плагин и объясните суть проблемы, пусть посмотрит тестовую карту).

Копирайты и спасибо:
Created By AlexALX (c) 2010-2011 http://alex-php.net/

DRM: Triggers & Entities Fix is free software;
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
------------------------
Created By AlexALX (c) 2010-2011 http://alex-php.net/
Based on DRM_trigger_hurt_fix
Original plugin authors:
coderiz / xPaw
Thanks:
ConnorMcLeod (CTriggerPush_Touch, func_rotating render fix plugin)
Monyak (idea how to fix the doors and some help)
xPaw (use him func_breakable render fix plugin)
Lt.RAT (small help with plugin optimization)

Список изменений:
[21.03.11 - v1.4.1]
* Исправлены некоторые ошибки.
[30.09.10 - v1.4]
* Улучшен алгоритм фикса подъёма оружия (теперь он работает для перемещённых объектов).
* Теперь прозрачные игроки могут подымать оружие, которое они (или кто-то другой) выбросил.
* Улучшен алгоритм фикса флага "активация при соприкосновении" для кнопок (теперь он работает для перемещённых объектов).
* Добавлен фикс открытия дверей прозрачными игроками (не всегда работает, например на cs_militia не работает для дверей в доме).
* Добавлены новые настройки.
* Исправлена работа настроек при использовании amxbans v6.
* Добавлена функция автоматической остановки плагинов, которые следует отключать при работе с данным плагином (например linux func_rotating fix).
* Оптимизация кода.
[24.09.10 - v1.3.2]
* Встроен Linux func_rotating/func_train render fix.
* Добавлены новые настройки.
[19.09.10 - v1.3.1]
* Исправлен баг с работой фикса дверей/поездов/машин при некоторых обстоятельствах.
* Мелкие изменения.
[14.09.10 - v1.3]
* Добавлены новые настройки.
* Оптимизация кода.
* Улучшено исправление проблемы с ложной активацией триггеров при близком прохождении "прозрачного" игрока.
[12.09.10 - v1.2]
* Теперь, когда "прозрачный" игрок застрял в дверях/поезде и т.д. - энтитя блокируется.
* Добавлена новая настройка - semiclip_fix_block.
* Добавлено ЧАВО (часто задаваемые вопросы).
[09.09.10 - v1.1.1]
* Некоторая оптимизация кода.
* Удалена функция CBaseTrigger_ToggleUse (она не нужна, не помню зачем я её добавлял - итак все работает).
* Теперь, если игрок не "прозрачный", он может нормально пройти через несколько брашей которые сделаны как одна энтитя (зачем я это заблокировал? не помню :D все итак работает).
[08.09.10 - v1.1b]
* Встроен func_breakable render fix плагин by xPaw.
* Добавлены настройки.
* Исправлена проблема с триггерами, когда игрок очень близко - он срабатывал (например trigger_hurt убивал игрока).
* Улучшен метод обнаружение застрявшего игрока в энтите дверях/поезде и тд - теперь это работает почти всегда.
* Оптимизация кода.
* Мелкие изменения.
[07.09.10 - v1.0b]
* Первая версия.